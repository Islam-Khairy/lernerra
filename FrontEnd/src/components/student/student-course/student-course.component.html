<div class="mx-6 lg:!mx-24 min-h-[calc(100vh-6rem)] mb-6">
  <h1 class="text-lg font-semibold text-gray-900 my-6">{{ course()?.name }}</h1>
  <div class="grid grid-cols-1 lg:!grid-cols-3 gap-6">
    <div class="col-span-1 lg:!col-span-2 flex flex-col gap-6">
      <div class="rounded-lg">
        <video [src]="vedioURL() || ''" controls class="w-full h-fit"></video>
      </div>
      <div class="flex flex-col gap-2">
        <h3 class="text-lg font-medium">Course Overview</h3>
        <p>{{ course()?.description }}</p>
      </div>
      <div class="flex flex-col gap-2">
        <h3 class="text-lg font-medium">Instructor</h3>
        <a
          class="text-lg font-medium text-[#2563EB]"
          [routerLink]="['/instructor', course()?.instructor?.id]"
        >
          {{ course()?.instructor?.fullName }}
        </a>
      </div>
    </div>
    <div class="col-span-1 bg-[#F8FAFC] rounded-lg p flex flex-col gap-4">
      @for (lesson of course()?.lessons; track $index;let i =$index) {
      <div
        class="flex justify-between items-center p-2 cursor-pointer"
        (click)="chooseVideo(lesson.vedioURL)"
        [ngClass]="{ 'bg-blue-600 text-white': vedioURL() === lesson.vedioURL }"
      >
        <div class="flex items-center gap-2">
          @if(progress >= ((i+1)/course()?.lessons?.length!)*100) {
          <input
            type="checkbox"
            checked
            (change)="markLessonAsCompleted(lesson.id)"
            [disabled]="isChecked()"
          />
          } @else {
          <input
            type="checkbox"
            (change)="markLessonAsCompleted(lesson.id)"
            [disabled]="isChecked()"
          />
          }

          <span class="px-2">{{ lesson.title }}</span>
        </div>
        <div class="flex items-center gap-2">
          <i class="pi pi-video text-lg"></i>

          <span>{{ this.calcDuration(lesson.duration) }}m</span>
        </div>
      </div>
      }
    </div>
    <div>
      <p class="my-3 text-lg">rate this course ...</p>
      <p-rating [(ngModel)]="this.rating" (click)="this.addRating()" />
    </div>
  </div>
</div>
