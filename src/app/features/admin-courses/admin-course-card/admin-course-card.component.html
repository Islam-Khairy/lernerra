<div class="h-full col-span-1">
  <a
    class="border block border-gray-300 bg-white border-surface rounded-xl m-2 p-4 hover:shadow relative overflow-hidden"
  >
    <div class="mb-4 h-56">
       <img
          [src]="course.imageUrl"
          [alt]="course.name"
          class=" rounded-lg w-full h-full"
        />
    </div>
    <div class="mb-2 font-bold">{{ course.name }}</div>
    <div class="mb-2 text-gray-700">{{course.instructor?.fullName}}</div>
    <div class="flex mb-2 gap-2 items-center">
      <i class="fa-solid fa-star text-amber-300"></i>
      <p class="text-gray-500 text-sm font-semibold">({{ (course.rate).toFixed(1) }})</p>
    </div>
    <div class="text-gray-700 mb-1">{{ course.description }}</div>
    <div class="flex justify-between items-center">
      <div class="font-semibold text-xl">{{ "$" + course.price }}</div>
    </div>
    @if (status=="0") {
    <div class="flex justify-center items-center gap-2">
      <button
        class="p-2 text-white bg-green-600 hover:bg-green-700 cursor-pointer rounded"
        (click)="updateCourseStatus(course.id, '1')"
      >
        Approve
      </button>
      <button
        class="p-2 text-white bg-red-600 hover:bg-red-700 cursor-pointer rounded"
        (click)="updateCourseStatus(course.id, '2')"
      >
        Reject
      </button>
    </div>
    <div class="p-2" >
      <input type="text" [(ngModel)]="this.note" class="border border-gray-300 rounded-md p-3 w-full">
    </div>
    }
    <div
      class="absolute cursor-pointer top-5 right-5 text-sm bg-gray-200 hover:bg-slate-300 rounded-full w-6 h-6 flex justify-center items-center"
      (click)="openConfirm()"
    >
      <i class="fa-solid fa-x text-red-600"></i>
    </div>
  </a>
</div>

<!-- Modal -->
@if(showConfirm){
<div
  class="fixed inset-0 bg-black bg-opacity-30 flex justify-center items-center z-50"
>
  <div class="bg-white rounded-lg p-6 w-80 shadow-lg">
    <h3 class="text-lg font-semibold mb-4">
      Are you sure you want to delete this course?
    </h3>
    <p class="mb-6 text-sm text-gray-600">This action cannot be undone.</p>
    <div class="flex justify-end gap-2">
      <button
        (click)="confirmAction(course.id)"
        class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded"
      >
        Yes
      </button>
      <button
        (click)="cancelAction()"
        class="bg-gray-300 hover:bg-gray-400 text-black px-4 py-2 rounded"
      >
        No
      </button>
    </div>
  </div>
</div>
}